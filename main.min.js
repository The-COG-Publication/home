let txt=document.getElementById("tag"),list=document.getElementById("list"),items=[];const event=new KeyboardEvent("keypress",{key:"Enter"});function simulateEnterPress(){txt.dispatchEvent(event)}function render(){list.innerText="",items.map((e,t)=>{let a=document.createElement("li"),l=document.createElement("span"),n=document.createElement("a");l.innerText=e,n.innerText="X",n.href=`javascript: remove(${t})`,a.appendChild(l),a.appendChild(n),list.appendChild(a)})}function remove(e){items=items.filter(t=>items.indexOf(t)!=e),render()}let selectedValue;function selectThis(e,t){null!=document.querySelector(".cards .selected")&&document.querySelector(".cards .selected .left svg path").classList.add("tick"),null!=document.querySelector(".cards .selected")&&document.querySelector(".cards .selected").classList.toggle("selected"),e.classList.toggle("selected"),e.querySelector(".cards .selected .left svg path").classList.remove("tick"),selectedValue=t}function validateData(){let e=null,t=document.getElementById("name").value,a=document.getElementById("email").value,l=document.getElementById("contact").value,n=document.getElementById("agree").checked;return document.querySelectorAll("input[name='book-status']").forEach(t=>{t.checked&&(e=t.value)}),0==items.length?(alert("Please provide at least 1 tag for type of book. Hit enter after selecting a value!"),!1):null==e?(alert("Please provide book status!"),!1):""==t?(alert("Please provide your name!"),!1):""==a?(alert("Please provide your email address!"),!1):l.length<10?(alert("Please provide valid phone number!"),!1):n?{items:items.toString(),bookStatus:e,selectedValue:selectedValue,name:t,email:a,phone:l}:(alert("Please accept our terms and conditions!"),!1)}function sendMail(){if(data=validateData(),data){let e=encodeURI("editor@thecogpublication.in"),t=encodeURI(`Support request by ${data.name}`),a="None"==data.selectedValue?"I haven't decided any plan to choose from.":`I would like to choose <strong>${data.selectedValue}</strong> plan`,l=encodeURI(`<h3>Hello! I am ${data.name}</h3><p>I wanted some help in publishing my book - <strong><<YOUR BOOK NAME>></strong> which will be ready - ${data.bookStatus}. The book is of type - ${data.items}</p></br><p>${a}</p></br><p>You can reach out to me via Email: ${data.email} or Contact: ${data.phone}</p></br></br><p>Thank you,</p><p>${data.name}</p>`);window.location.href=`mailto:${e}?&subject=${t}&body=${l}`}}txt.addEventListener("keypress",function(e){if("Enter"===e.key){let e=txt.value;if(""!==e)if(items.indexOf(e)>=0)alert("Tag name is a duplicate");else{if(5==items.length)return void alert("You have reached the maximum limit allowed of 5 tags!");items.push(e),render(),txt.value="",txt.focus()}else alert("Please type a tag Name")}}),window.onload=function(){render(),txt.focus()},selectThis(document.querySelector(".cards .card"),"Bronze");